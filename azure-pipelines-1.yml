trigger: none 
pool: Self hosted

stages:
- stage: Terraform_install_init_Validate
  displayName: Terraform init And validate
  jobs:
    - job: Terraforminitandvalidate
      steps:
      - task: TerraformInstaller@1
        inputs:
          terraformVersion: 'latest'
      - task: TerraformTask@5
        inputs:
          provider: 'azurerm'
          command: 'init'
          workingDirectory: '$(System.DefaultWorkingDirectory)/Infra_terraform_/Environment/Dev'
          backendServiceArm: 'SP-connection'
          backendAzureRmStorageAccountName: 'kamalstg12345'
          backendAzureRmContainerName: 'kamalcontainer'
          backendAzureRmKey: 'Dev.tfstate'

      - task: TerraformTask@5
        inputs:
          provider: 'azurerm'
          command: 'validate'
          workingDirectory: '$(System.DefaultWorkingDirectory)/Infra_terraform_/Environment/Dev'
    
  







  

